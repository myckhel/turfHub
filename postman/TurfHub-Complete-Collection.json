{
    "info": {
        "name": "TurfHub API - Complete Collection",
        "description": "Complete API collection for TurfHub with all endpoints, advanced testing, and automation scripts",
        "version": "2.0.0",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "auth": {
        "type": "bearer",
        "bearer": [
            {
                "key": "token",
                "value": "{{auth_token}}",
                "type": "string"
            }
        ]
    },
    "event": [
        {
            "listen": "prerequest",
            "script": {
                "type": "text/javascript",
                "exec": [
                    "// Global Pre-request Script",
                    "// Set default headers",
                    "pm.request.headers.add({",
                    "    key: 'Accept',",
                    "    value: 'application/json'",
                    "});",
                    "",
                    "pm.request.headers.add({",
                    "    key: 'Content-Type',",
                    "    value: 'application/json'",
                    "});",
                    "",
                    "// Add timestamp and request ID for tracking",
                    "pm.globals.set('timestamp', new Date().toISOString());",
                    "pm.globals.set('request_id', pm.variables.replaceIn('{{$randomUUID}}'));",
                    "",
                    "// Auto-retry logic for rate limiting",
                    "const retryCount = pm.environment.get('retry_count') || 0;",
                    "if (retryCount > 0) {",
                    "    console.log(`Retry attempt: ${retryCount}`);",
                    "}",
                    "",
                    "// Dynamic base URL handling",
                    "if (!pm.environment.get('base_url')) {",
                    "    pm.environment.set('base_url', 'http://localhost:8000');",
                    "}",
                    "",
                    "// Performance monitoring",
                    "pm.globals.set('request_start_time', Date.now());"
                ]
            }
        },
        {
            "listen": "test",
            "script": {
                "type": "text/javascript",
                "exec": [
                    "// Global Test Script",
                    "const startTime = pm.globals.get('request_start_time');",
                    "const responseTime = Date.now() - startTime;",
                    "",
                    "// Performance monitoring",
                    "pm.test('Response time is acceptable', function () {",
                    "    pm.expect(pm.response.responseTime).to.be.below(5000);",
                    "});",
                    "",
                    "// Log performance metrics",
                    "console.log(`Request ID: ${pm.globals.get('request_id')}`);",
                    "console.log(`Response Time: ${pm.response.responseTime}ms`);",
                    "console.log(`Custom Timer: ${responseTime}ms`);",
                    "",
                    "// Check for proper Content-Type",
                    "if (pm.response.code >= 200 && pm.response.code < 300) {",
                    "    pm.test('Response has JSON Content-Type', function () {",
                    "        pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
                    "    });",
                    "}",
                    "",
                    "// Rate limiting handling",
                    "if (pm.response.code === 429) {",
                    "    const retryAfter = pm.response.headers.get('Retry-After') || 60;",
                    "    console.log(`Rate limited. Retry after: ${retryAfter}s`);",
                    "    pm.environment.set('retry_count', (pm.environment.get('retry_count') || 0) + 1);",
                    "}",
                    "",
                    "// Security headers check",
                    "pm.test('Security headers present', function () {",
                    "    pm.expect(pm.response.headers.has('X-Frame-Options') || ",
                    "            pm.response.headers.has('X-Content-Type-Options')).to.be.true;",
                    "});",
                    "",
                    "// Check for Laravel API Resource structure",
                    "if (pm.response.code >= 200 && pm.response.code < 300 && pm.response.json()) {",
                    "    const jsonData = pm.response.json();",
                    "    ",
                    "    if (jsonData.data !== undefined) {",
                    "        pm.test('Response follows Laravel API Resource format', function () {",
                    "            pm.expect(jsonData).to.have.property('data');",
                    "        });",
                    "        ",
                    "        // Check pagination structure for collections",
                    "        if (Array.isArray(jsonData.data)) {",
                    "            pm.test('Paginated response has meta and links', function () {",
                    "                pm.expect(jsonData).to.have.property('meta');",
                    "                pm.expect(jsonData).to.have.property('links');",
                    "            });",
                    "        }",
                    "    }",
                    "}",
                    "",
                    "// Clear retry count on success",
                    "if (pm.response.code >= 200 && pm.response.code < 400) {",
                    "    pm.environment.unset('retry_count');",
                    "}"
                ]
            }
        }
    ],
    "variable": [
        {
            "key": "base_url",
            "value": "{{base_url}}",
            "type": "string"
        },
        {
            "key": "api_version",
            "value": "{{api_version}}",
            "type": "string"
        }
    ],
    "item": [
        {
            "name": "üîê Authentication & Authorization",
            "item": [
                {
                    "name": "Register New User",
                    "event": [
                        {
                            "listen": "prerequest",
                            "script": {
                                "exec": [
                                    "// Generate realistic test data",
                                    "const firstName = pm.variables.replaceIn('{{$randomFirstName}}');",
                                    "const lastName = pm.variables.replaceIn('{{$randomLastName}}');",
                                    "const domain = pm.variables.replaceIn('{{$randomDomainName}}');",
                                    "",
                                    "pm.globals.set('test_name', `${firstName} ${lastName}`);",
                                    "pm.globals.set('test_email', `${firstName.toLowerCase()}.${lastName.toLowerCase()}@${domain}`);",
                                    "pm.globals.set('test_password', 'SecurePassword123!');",
                                    "",
                                    "// Log test data",
                                    "console.log('Generated test user:', {",
                                    "    name: pm.globals.get('test_name'),",
                                    "    email: pm.globals.get('test_email')",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        },
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 201 Created', function () {",
                                    "    pm.response.to.have.status(201);",
                                    "});",
                                    "",
                                    "pm.test('Response contains user data with all required fields', function () {",
                                    "    const jsonData = pm.response.json();",
                                    "    pm.expect(jsonData).to.have.property('data');",
                                    "    ",
                                    "    const user = jsonData.data;",
                                    "    pm.expect(user).to.have.property('id').that.is.a('number');",
                                    "    pm.expect(user).to.have.property('name').that.equals(pm.globals.get('test_name'));",
                                    "    pm.expect(user).to.have.property('email').that.equals(pm.globals.get('test_email'));",
                                    "    pm.expect(user).to.have.property('role').that.is.oneOf(['admin', 'manager', 'player']);",
                                    "    pm.expect(user).to.have.property('created_at');",
                                    "    pm.expect(user).to.have.property('updated_at');",
                                    "});",
                                    "",
                                    "pm.test('Password is not exposed in response', function () {",
                                    "    const jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.data).to.not.have.property('password');",
                                    "});",
                                    "",
                                    "pm.test('User role is correctly set', function () {",
                                    "    const jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.data.role).to.equal('player');",
                                    "});",
                                    "",
                                    "// Store user data for subsequent tests",
                                    "if (pm.response.code === 201) {",
                                    "    const user = pm.response.json().data;",
                                    "    pm.environment.set('test_user_id', user.id);",
                                    "    pm.environment.set('test_user_email', user.email);",
                                    "    pm.environment.set('test_user_name', user.name);",
                                    "    ",
                                    "    console.log('‚úÖ User registered successfully:', {",
                                    "        id: user.id,",
                                    "        email: user.email",
                                    "    });",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "X-Requested-With",
                                "value": "XMLHttpRequest",
                                "type": "text"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"{{test_name}}\",\n    \"email\": \"{{test_email}}\",\n    \"password\": \"{{test_password}}\",\n    \"password_confirmation\": \"{{test_password}}\",\n    \"role\": \"player\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/api/users",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "users"
                            ]
                        },
                        "description": "Register a new user account with comprehensive validation and testing"
                    }
                },
                {
                    "name": "Get Authenticated User (Sanctum)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 200 OK', function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test('Response contains authenticated user data', function () {",
                                    "    const jsonData = pm.response.json();",
                                    "    pm.expect(jsonData).to.have.property('id');",
                                    "    pm.expect(jsonData).to.have.property('name');",
                                    "    pm.expect(jsonData).to.have.property('email');",
                                    "    pm.expect(jsonData).to.have.property('role');",
                                    "    pm.expect(jsonData).to.have.property('email_verified_at');",
                                    "});",
                                    "",
                                    "pm.test('User has valid role', function () {",
                                    "    const jsonData = pm.response.json();",
                                    "    pm.expect(['admin', 'manager', 'player']).to.include(jsonData.role);",
                                    "});",
                                    "",
                                    "pm.test('Email is properly formatted', function () {",
                                    "    const jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.email).to.match(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/);",
                                    "});",
                                    "",
                                    "// Store authenticated user data",
                                    "if (pm.response.code === 200) {",
                                    "    const user = pm.response.json();",
                                    "    pm.environment.set('auth_user_id', user.id);",
                                    "    pm.environment.set('auth_user_role', user.role);",
                                    "    ",
                                    "    console.log('‚úÖ Authenticated user retrieved:', {",
                                    "        id: user.id,",
                                    "        role: user.role,",
                                    "        email: user.email",
                                    "    });",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{auth_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/user",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "user"
                            ]
                        },
                        "description": "Get the authenticated user's information using Sanctum token authentication"
                    }
                }
            ],
            "description": "Authentication and authorization endpoints with comprehensive testing"
        },
        {
            "name": "üë• User Management",
            "item": [
                {
                    "name": "List Users with Advanced Filtering",
                    "event": [
                        {
                            "listen": "prerequest",
                            "script": {
                                "exec": [
                                    "// Dynamic query parameter management",
                                    "const url = pm.request.url;",
                                    "",
                                    "// Clear existing query parameters",
                                    "url.query.clear();",
                                    "",
                                    "// Add pagination",
                                    "url.query.add({key: 'per_page', value: pm.environment.get('per_page') || '15'});",
                                    "",
                                    "// Add relationship loading",
                                    "url.query.add({key: 'include', value: 'ownedTurfs,players'});",
                                    "",
                                    "// Conditional filters based on environment variables",
                                    "if (pm.environment.get('filter_role')) {",
                                    "    url.query.add({key: 'role', value: pm.environment.get('filter_role')});",
                                    "}",
                                    "",
                                    "if (pm.environment.get('search_term')) {",
                                    "    url.query.add({key: 'search', value: pm.environment.get('search_term')});",
                                    "}",
                                    "",
                                    "console.log('üìã Listing users with filters:', {",
                                    "    per_page: pm.environment.get('per_page') || '15',",
                                    "    role: pm.environment.get('filter_role') || 'all',",
                                    "    search: pm.environment.get('search_term') || 'none'",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        },
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 200 OK', function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test('Response has valid pagination structure', function () {",
                                    "    const jsonData = pm.response.json();",
                                    "    pm.expect(jsonData).to.have.property('data').that.is.an('array');",
                                    "    pm.expect(jsonData).to.have.property('links').that.is.an('object');",
                                    "    pm.expect(jsonData).to.have.property('meta').that.is.an('object');",
                                    "});",
                                    "",
                                    "pm.test('Pagination meta contains required fields', function () {",
                                    "    const jsonData = pm.response.json();",
                                    "    const meta = jsonData.meta;",
                                    "    pm.expect(meta).to.have.property('current_page');",
                                    "    pm.expect(meta).to.have.property('per_page');",
                                    "    pm.expect(meta).to.have.property('total');",
                                    "    pm.expect(meta).to.have.property('last_page');",
                                    "});",
                                    "",
                                    "pm.test('Users have consistent structure', function () {",
                                    "    const jsonData = pm.response.json();",
                                    "    if (jsonData.data.length > 0) {",
                                    "        jsonData.data.forEach((user, index) => {",
                                    "            pm.expect(user, `User at index ${index}`).to.have.property('id');",
                                    "            pm.expect(user, `User at index ${index}`).to.have.property('name');",
                                    "            pm.expect(user, `User at index ${index}`).to.have.property('email');",
                                    "            pm.expect(user, `User at index ${index}`).to.have.property('role');",
                                    "        });",
                                    "    }",
                                    "});",
                                    "",
                                    "pm.test('Role filter works correctly', function () {",
                                    "    const filterRole = pm.environment.get('filter_role');",
                                    "    if (filterRole) {",
                                    "        const jsonData = pm.response.json();",
                                    "        jsonData.data.forEach((user, index) => {",
                                    "            pm.expect(user.role, `User at index ${index} should have role ${filterRole}`)",
                                    "                .to.equal(filterRole);",
                                    "        });",
                                    "    }",
                                    "});",
                                    "",
                                    "pm.test('Relationships are loaded when requested', function () {",
                                    "    const jsonData = pm.response.json();",
                                    "    if (jsonData.data.length > 0) {",
                                    "        const firstUser = jsonData.data[0];",
                                    "        // Check if relationships are present (they might be empty arrays)",
                                    "        pm.expect(firstUser).to.have.property('owned_turfs');",
                                    "        pm.expect(firstUser).to.have.property('players');",
                                    "    }",
                                    "});",
                                    "",
                                    "// Store sample data for other tests",
                                    "const jsonData = pm.response.json();",
                                    "if (jsonData.data.length > 0) {",
                                    "    pm.environment.set('sample_user_id', jsonData.data[0].id);",
                                    "    pm.environment.set('total_users', jsonData.meta.total);",
                                    "    ",
                                    "    // Find users with different roles for testing",
                                    "    const roles = [...new Set(jsonData.data.map(user => user.role))];",
                                    "    pm.environment.set('available_roles', roles.join(','));",
                                    "    ",
                                    "    console.log('üìä Users retrieved:', {",
                                    "        total: jsonData.meta.total,",
                                    "        current_page: jsonData.meta.current_page,",
                                    "        per_page: jsonData.meta.per_page,",
                                    "        roles_found: roles",
                                    "    });",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/users",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "users"
                            ]
                        },
                        "description": "Advanced user listing with dynamic filtering, pagination, and relationship loading"
                    }
                },
                {
                    "name": "Search Users by Name/Email",
                    "event": [
                        {
                            "listen": "prerequest",
                            "script": {
                                "exec": [
                                    "// Set search term - could be name or email",
                                    "const searchTerms = ['john', 'admin', '@gmail.com', 'test'];",
                                    "const randomTerm = searchTerms[Math.floor(Math.random() * searchTerms.length)];",
                                    "pm.environment.set('current_search_term', randomTerm);",
                                    "",
                                    "console.log('üîç Searching users with term:', randomTerm);"
                                ],
                                "type": "text/javascript"
                            }
                        },
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "const searchTerm = pm.environment.get('current_search_term');",
                                    "",
                                    "pm.test('Status code is 200 OK', function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test('Search results contain search term in name or email', function () {",
                                    "    const jsonData = pm.response.json();",
                                    "    if (jsonData.data.length > 0) {",
                                    "        jsonData.data.forEach((user, index) => {",
                                    "            const nameMatch = user.name.toLowerCase().includes(searchTerm.toLowerCase());",
                                    "            const emailMatch = user.email.toLowerCase().includes(searchTerm.toLowerCase());",
                                    "            pm.expect(nameMatch || emailMatch, ",
                                    "                `User at index ${index} should contain '${searchTerm}' in name or email`",
                                    "            ).to.be.true;",
                                    "        });",
                                    "    }",
                                    "});",
                                    "",
                                    "pm.test('Search maintains pagination structure', function () {",
                                    "    const jsonData = pm.response.json();",
                                    "    pm.expect(jsonData).to.have.property('data');",
                                    "    pm.expect(jsonData).to.have.property('meta');",
                                    "    pm.expect(jsonData).to.have.property('links');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/users?search={{current_search_term}}&per_page=10",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "users"
                            ],
                            "query": [
                                {
                                    "key": "search",
                                    "value": "{{current_search_term}}"
                                },
                                {
                                    "key": "per_page",
                                    "value": "10"
                                }
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "üèüÔ∏è Turf Management",
            "item": [
                {
                    "name": "List Turfs with Comprehensive Filtering",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 200 OK', function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test('Response has pagination structure', function () {",
                                    "    const jsonData = pm.response.json();",
                                    "    pm.expect(jsonData).to.have.property('data').that.is.an('array');",
                                    "    pm.expect(jsonData).to.have.property('links');",
                                    "    pm.expect(jsonData).to.have.property('meta');",
                                    "});",
                                    "",
                                    "pm.test('Turfs have required fields', function () {",
                                    "    const jsonData = pm.response.json();",
                                    "    if (jsonData.data.length > 0) {",
                                    "        const firstTurf = jsonData.data[0];",
                                    "        pm.expect(firstTurf).to.have.property('id');",
                                    "        pm.expect(firstTurf).to.have.property('name');",
                                    "        pm.expect(firstTurf).to.have.property('location');",
                                    "        pm.expect(firstTurf).to.have.property('owner_id');",
                                    "        pm.expect(firstTurf).to.have.property('is_active');",
                                    "        pm.expect(firstTurf).to.have.property('hourly_rate');",
                                    "    }",
                                    "});",
                                    "",
                                    "pm.test('Hourly rate is properly formatted', function () {",
                                    "    const jsonData = pm.response.json();",
                                    "    jsonData.data.forEach((turf, index) => {",
                                    "        if (turf.hourly_rate !== null) {",
                                    "            pm.expect(turf.hourly_rate, `Turf at index ${index}`)",
                                    "                .to.be.a('number').and.to.be.above(0);",
                                    "        }",
                                    "    });",
                                    "});",
                                    "",
                                    "// Store sample turf data",
                                    "const jsonData = pm.response.json();",
                                    "if (jsonData.data.length > 0) {",
                                    "    pm.environment.set('sample_turf_id', jsonData.data[0].id);",
                                    "    pm.environment.set('sample_turf_owner_id', jsonData.data[0].owner_id);",
                                    "    ",
                                    "    console.log('üèüÔ∏è Turfs retrieved:', {",
                                    "        total: jsonData.meta.total,",
                                    "        active_turfs: jsonData.data.filter(t => t.is_active).length,",
                                    "        inactive_turfs: jsonData.data.filter(t => !t.is_active).length",
                                    "    });",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/turfs?include=owner,players,matchSessions&per_page=15",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "turfs"
                            ],
                            "query": [
                                {
                                    "key": "include",
                                    "value": "owner,players,matchSessions"
                                },
                                {
                                    "key": "per_page",
                                    "value": "15"
                                },
                                {
                                    "key": "is_active",
                                    "value": "true",
                                    "disabled": true
                                },
                                {
                                    "key": "requires_membership",
                                    "value": "false",
                                    "disabled": true
                                },
                                {
                                    "key": "owner_id",
                                    "value": "{{sample_user_id}}",
                                    "disabled": true
                                },
                                {
                                    "key": "search",
                                    "value": "stadium",
                                    "disabled": true
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Create New Turf",
                    "event": [
                        {
                            "listen": "prerequest",
                            "script": {
                                "exec": [
                                    "// Generate comprehensive turf data",
                                    "const turfNames = [",
                                    "    'Premier Football Arena',",
                                    "    'Elite Sports Complex',",
                                    "    'Champions Stadium',",
                                    "    'Victory Ground',",
                                    "    'Grand Sports Arena'",
                                    "];",
                                    "",
                                    "const cities = ['Mumbai', 'Delhi', 'Bangalore', 'Chennai', 'Pune', 'Hyderabad'];",
                                    "const areas = ['Central', 'North', 'South', 'East', 'West'];",
                                    "",
                                    "const randomTurfName = turfNames[Math.floor(Math.random() * turfNames.length)];",
                                    "const randomCity = cities[Math.floor(Math.random() * cities.length)];",
                                    "const randomArea = areas[Math.floor(Math.random() * areas.length)];",
                                    "",
                                    "pm.globals.set('turf_name', randomTurfName);",
                                    "pm.globals.set('turf_location', `${randomArea} ${randomCity}, ${pm.variables.replaceIn('{{$randomStreetAddress}}')}');",
                                    "pm.globals.set('turf_description', `Premium ${randomTurfName.toLowerCase()} with state-of-the-art facilities and professional-grade synthetic turf. Perfect for competitive matches and training sessions.`);",
                                    "pm.globals.set('turf_hourly_rate', Math.floor(Math.random() * 200) + 100); // 100-300 range",
                                    "",
                                    "console.log('üèóÔ∏è Creating turf:', {",
                                    "    name: pm.globals.get('turf_name'),",
                                    "    location: pm.globals.get('turf_location'),",
                                    "    rate: pm.globals.get('turf_hourly_rate')",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        },
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Status code is 201 Created', function () {",
                                    "    pm.response.to.have.status(201);",
                                    "});",
                                    "",
                                    "pm.test('Turf was created with correct data', function () {",
                                    "    const jsonData = pm.response.json();",
                                    "    pm.expect(jsonData).to.have.property('data');",
                                    "    ",
                                    "    const turf = jsonData.data;",
                                    "    pm.expect(turf).to.have.property('id').that.is.a('number');",
                                    "    pm.expect(turf.name).to.equal(pm.globals.get('turf_name'));",
                                    "    pm.expect(turf.location).to.equal(pm.globals.get('turf_location'));",
                                    "    pm.expect(turf.hourly_rate).to.equal(parseFloat(pm.globals.get('turf_hourly_rate')));",
                                    "    pm.expect(turf.is_active).to.be.true;",
                                    "});",
                                    "",
                                    "pm.test('Owner relationship is correctly set', function () {",
                                    "    const jsonData = pm.response.json();",
                                    "    const expectedOwnerId = parseInt(pm.environment.get('sample_user_id'));",
                                    "    pm.expect(jsonData.data.owner_id).to.equal(expectedOwnerId);",
                                    "});",
                                    "",
                                    "pm.test('Membership settings are correct', function () {",
                                    "    const jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.data.requires_membership).to.be.false;",
                                    "    pm.expect(jsonData.data.membership_fee).to.be.null;",
                                    "    pm.expect(jsonData.data.membership_type).to.be.null;",
                                    "});",
                                    "",
                                    "// Store created turf for cleanup and further testing",
                                    "if (pm.response.code === 201) {",
                                    "    const turf = pm.response.json().data;",
                                    "    pm.environment.set('created_turf_id', turf.id);",
                                    "    pm.environment.set('created_turf_name', turf.name);",
                                    "    ",
                                    "    console.log('‚úÖ Turf created successfully:', {",
                                    "        id: turf.id,",
                                    "        name: turf.name,",
                                    "        hourly_rate: turf.hourly_rate",
                                    "    });",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"{{turf_name}}\",\n    \"description\": \"{{turf_description}}\",\n    \"location\": \"{{turf_location}}\",\n    \"owner_id\": {{sample_user_id}},\n    \"requires_membership\": false,\n    \"membership_fee\": null,\n    \"membership_type\": null,\n    \"hourly_rate\": {{turf_hourly_rate}},\n    \"is_active\": true\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/api/turfs",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "turfs"
                            ]
                        }
                    }
                }
            ]
        }
    ]
}
